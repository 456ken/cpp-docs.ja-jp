---
title: Visual Studio での C メイクファイル プロジェクトを作成します。
ms.date: 12/08/2018
f1_keywords:
- vc.appwiz.makefile.project
helpviewer_keywords:
- Makefile projects, creating
- project files [C++], Makefile projects
ms.assetid: dd077af3-97a8-48fb-baaa-cf7e07ddef61
ms.openlocfilehash: 9c2edfe35233672e8117d336ba40cfea497b1a22
ms.sourcegitcommit: c7f90df497e6261764893f9cc04b5d1f1bf0b64b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/05/2019
ms.locfileid: "59035599"
---
# <a name="create-a-c-makefile-project"></a>C メイクファイル プロジェクトを作成します。

*makefile* は、一連の C++ ソース コード ファイルをコンパイルし、リンクする (あるいは*ビルド*する) 方法を含むテキスト ファイルです。 *make* プログラムによってメイクファイルが読み取られ、コンパイラ、リンカー、そしておそらくは他のプログラムが呼び出され、実行可能ファイルが作成されます。 Microsoft の実装、*ように*プログラムが呼び出されます[NMAKE](nmake-reference.md);

既存のメイクファイル プロジェクトがある場合、Visual Studio IDE でそれをコード化またはデバッグするとき、次の選択肢が表示されます。

- Visual Studio が IntelliSense を使用する .vcxproj ファイルを構成する、既存のメイクファイルを使用する Visual Studio でメイクファイル プロジェクトを作成します。 (ネイティブの MSBuild プロジェクトで与えられる IDE 機能は一部のみ与えられます。)下の「[メイクファイル プロジェクトを作成するには](#create_a_makefile_project)」を参照してください。
- **[既存コード ファイルからの新しいプロジェクトの作成]** ウィザードを使用し、ソース コードからネイティブ MSBuild プロジェクトを作成します。 元のメイクファイルは、この後は使用されません。 詳細については、「[方法 :既存のコードから C++ プロジェクトを作成する](../how-to-create-a-cpp-project-from-existing-code.md)」を参照してください。
- **Visual Studio 2017 以降**: 使用して、**フォルダーを開く**を編集してとしてメイクファイル プロジェクトのビルドの機能-MSBuild システムを介さず、します。 詳細については、「[Open Folder projects for C++](../open-folder-projects-cpp.md)」 (C++ の [フォルダーを開く] プロジェクト) をご覧ください。

## <a name="a-namecreateamakefileproject-to-create-a-makefile-project-with-the-makefile-project-template"></a><a name="create_a_makefile_project"> メイクファイル プロジェクトのテンプレートでメイクファイル プロジェクトを作成するには

Visual Studio 2017 以降では、メイクファイル プロジェクト テンプレートは、C++ デスクトップ開発ワークロードがインストールされているときに利用できます。

ウィザードに従い、メイクファイルによって使用されるコマンドと環境を指定します。 Visual Studio でコードをビルドするのにプロジェクトを使用できます。

既定では、ソリューション エクスプローラーにメイクファイル プロジェクトのファイルは表示されません。 メイクファイル プロジェクトで指定したビルド構成は、プロジェクトのプロパティ ページに反映されます。

プロジェクトで指定した出力ファイルは、ビルド スクリプトの生成するファイルの名前には直接は影響しません。 メイクファイルでは、引き続きビルド プロセスの制御とビルド ターゲットの指定を行います。

1. Visual Studio のスタート ページで、**[新しいプロジェクト]** 検索ボックスに「makefile」と入力します。 あるいは、**[新しいプロジェクト]** ダイアログ ボックスで **[Visual C++]**、**[全般]** (Visual Studio 2015) または **[その他]** (Visual Studio 2017) の順に展開し、[テンプレート] ウィンドウの **[メイクファイル プロジェクト]** を選択してプロジェクト ウィザードを開きます。

1. **[アプリケーションの設定]** ページで、デバッグと製品ビルドに対してコマンド、出力、クリーンアップ、およびリビルドに関する情報を指定します。

1. **[完了]** をクリックしてウィザードを閉じ、**ソリューション エクスプローラー**で新しく作成したプロジェクトを開きます。

プロジェクトのプロパティは、プロパティ ページで表示および編集できます。 参照してください[Visual Studio での設定の C++ コンパイラとビルド プロパティ](../working-with-project-properties.md)プロパティ ページを表示する方法について。

## <a name="makefile-project-wizard"></a>メイクファイル プロジェクト ウィザード

メイクファイル プロジェクトを作成した後は、表示および編集では、次のオプションの各、 **Nmake**プロジェクトのプロパティ ページのページ。

- **コマンドラインをビルドするには。** ユーザーが [ビルド] メニューからビルドを実行するコマンドラインを指定します。 プロジェクトのプロパティ ページの Nmake ページで、ビルド コマンドライン フィールドに表示されます。

- **出力:** コマンド ラインの出力が含まれるファイルの名前を指定します。 既定では、このオプションはプロジェクト名に基づきます。 プロジェクトのプロパティ ページの [Nmake] ページで、出力フィールドに表示されます。

- **クリーン コマンド:** ユーザーが [ビルド] メニューからクリーンを実行するコマンドラインを指定します。 プロジェクトのプロパティ ページの [Nmake] ページの [クリーン コマンドライン] フィールドに表示されます。

- **リビルド コマンドライン。**[ビルド] メニューからユーザーが再構築を選択するときに実行するコマンドラインを指定します。 プロジェクトのプロパティ ページの Nmake ページですべてのコマンド ライン フィールドを再構築表示されます。

## <a name="how-to-enable-intellisense-for-makefile-projects"></a>方法: メイクファイル プロジェクトで IntelliSense を使用可能にする

IntelliSense は、ときに、特定のプロジェクトの設定またはコンパイラ オプションが正しく設定されていません、メイクファイル プロジェクトで失敗します。 メイクファイル プロジェクトの構成に IntelliSense が想定どおりに機能するようにこれらの手順に従います。

1. **[プロパティ ページ]** ダイアログ ボックスを開きます。 詳細については、次を参照してください。 [Visual Studio での設定の C++ コンパイラとビルド プロパティ](../working-with-project-properties.md)します。

1. **[構成プロパティ]** ノードを展開します。

1. **[NMake]** プロパティ ページを選択し、**[IntelliSense]** のプロパティを適宜変更します。

   - **[プリプロセッサの定義]** プロパティでメイクファイル プロジェクトのプリプロセッサ シンボルを定義します。 詳細については、「[/D (プリプロセッサの定義)](d-preprocessor-definitions.md)」を参照してください。

   - メイクファイル プロジェクトのプリプロセッサ ディレクティブに渡されるファイル参照を解決する目的でコンパイラが検索するディレクトリの一覧を、**[インクルードの検索パス]** プロパティで指定します。 詳細については、「[/I (追加インクルード ディレクトリ)](i-additional-include-directories.md)」を参照してください。

    - コマンド ウィンドウから CL.EXE を利用してビルドするプロジェクトの場合、メイクファイル プロジェクトのプリプロセッサ ディレクティブに渡されるファイル参照を解決する目的でコンパイラが検索するディレクトリの一覧を、**INCLUDE** 環境変数で指定します。

   - **[強制インクルード]** プロパティで、メイクファイル プロジェクトのビルド時に処理するヘッダー ファイルを指定します。 詳細については、「[/FI (強制インクルード ファイルの名前の指定)](fi-name-forced-include-file.md)」を参照してください。

   - プロジェクトの .NET アセンブリの参照を解決する目的でコンパイラが検索するディレクトリの一覧を **[アセンブリの検索パス]** プロパティで指定します。 詳細については、「[/AI (メタデータ ディレクトリの指定)](ai-specify-metadata-directories.md)」を参照してください。

   - **[アセンブリの強制使用]** プロパティで、メイクファイル プロジェクトのビルド時に処理する .NET アセンブリを指定します。 詳細については、「[/FU (強制 #using ファイルの名前の指定)](fu-name-forced-hash-using-file.md)」を参照してください。

   - C++ ファイルの解析時に IntelliSense によって使用される追加のコンパイラ スイッチを **[追加のオプション]** プロパティで指定します。

1. **[OK]** をクリックし、プロパティ ページを閉じます。

1. **[すべて保存]** コマンドを使用し、変更後のプロジェクト設定を保存します。

次回、Visual Studio 開発環境でメイクファイル プロジェクトを開くとき、**[ソリューションのクリーン]** コマンドを実行し、それからメイクファイル プロジェクトで **[ソリューションのビルド]** コマンドを実行します。 IntelliSense が IDE で正しく動作するはずです。

## <a name="see-also"></a>関連項目

[Using IntelliSense](/visualstudio/ide/using-intellisense)<br>
[NMAKE リファレンス](nmake-reference.md)<br>
[方法: 既存のコードから C++ プロジェクトを作成](../how-to-create-a-cpp-project-from-existing-code.md)
[メイクファイルの特殊文字](special-characters-in-a-makefile.md)<br/>
[メイクファイルの内容](contents-of-a-makefile.md)<br/>
